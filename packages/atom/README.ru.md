# @alaq/atom

**Ð ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð½Ð° Ð±Ð°Ð·Ðµ ÐºÐ»Ð°ÑÑÐ¾Ð².**

[![Read in English](https://img.shields.io/badge/Language-English-blue)](./README.md)

Atom â€” ÑÑ‚Ð¾ ÑÐ°Ð¼Ñ‹Ð¹ Ð¼Ð¾Ñ‰Ð½Ñ‹Ð¹ Ð¸ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð² ÑÐºÐ¾ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ Alaq. ÐžÐ½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ JavaScript/TypeScript ÐºÐ»Ð°ÑÑÑ‹ Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ (ÑÑ‚Ð¾Ñ€Ñ‹) Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹.

### ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

```bash
bun add @alaq/atom
# Ð¸Ð»Ð¸
npm install @alaq/atom
```

---

### ðŸ›  Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

```typescript
import { Atom, kind } from '@alaq/atom';
import '@alaq/nucl/presets/std'; // ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ Ñ…ÐµÐ»Ð¿ÐµÑ€Ñ‹

class CounterStore {
  // ÐŸÐ¾Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ð½ÑƒÐºÐ»Ð¾Ð½Ð°Ð¼Ð¸
  count = 0;
  
  // ÐœÐ¾Ð¶Ð½Ð¾ Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿ Ð½ÑƒÐºÐ»Ð¾Ð½Ð° Ñ‡ÐµÑ€ÐµÐ· kind()
  history = kind('std', []);

  // Ð“ÐµÑ‚Ñ‚ÐµÑ€Ñ‹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼Ñ‹Ð¼Ð¸ (computed)
  get doubled() {
    return this.count * 2;
  }

  // ÐœÐµÑ‚Ð¾Ð´Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ°Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾, Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÑŒ Ð² Ð¿Ð¾Ð»Ñ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ€ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ
  increment() {
    this.count++;
    this.history.push(this.count);
  }
}

const counter = Atom(CounterStore);

// ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ° Ð½Ð° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
counter.$count.up(val => console.log('Count changed:', val));

counter.increment();
console.log(counter.doubled); // 2
```

---

### ðŸ“š Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ (RU)

*   **[ÐšÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ](./docs/ru/CONCEPT.md)** â€” Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ñ ÐºÐ»Ð°ÑÑÐ¾Ð² ÐºÐ°Ðº ÑÑ…ÐµÐ¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾Ð¹ Ñ€ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸.
*   **[API Reference](./docs/ru/API.md)** â€” ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ„Ð°Ð±Ñ€Ð¸ÐºÐ¸ `Atom`, ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° `$` Ð¸ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐºÑÐ¸.

---

### âš¡ ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

Atom Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð²ÐµÑ€Ñ…ÐµÐ´ (Proxy + Ð¸Ð½ÑÑ‚Ð°Ð½Ñ ÐºÐ»Ð°ÑÑÐ°) Ð¿Ð¾Ð²ÐµÑ€Ñ… Nucl, ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ Ð»Ð¸Ð´ÐµÑ€ÑÑ‚Ð²Ð¾ Ð¿Ð¾ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ ÑÑ€ÐµÐ´Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÑ‚ÐµÐ¹Ñ‚-Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ð¾Ð².

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | @alaq/atom | MobX | Zustand |
| :--- | :--- | :--- | :--- |
| **Ð§Ñ‚ÐµÐ½Ð¸Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°** | **~350k ops/ms** | ~140k ops/ms | ~180k ops/ms |
| **ÐŸÐ°Ð¼ÑÑ‚ÑŒ (1 Ð¼Ð»Ð½)** | **~180 MB** | ~240 MB | ~150 MB |

*> Ð‘ÐµÐ½Ñ‡Ð¼Ð°Ñ€ÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‹ Ð½Ð° Bun v1.3. ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡ÐµÑ‚: [BENCHMARK_REPORT.ru.md](../../BENCHMARK_REPORT.ru.md)*
