# Nucleus (Nucl): Интеллектуальное Ядро

Если **Quark** — это сырой контейнер для данных, то **Nucleus (Nu)** — это мозг, который им управляет.

Если Quark — это кирпич, то Nucl — это архитектор.

## 1. Зачем нам Nucl?
Сырые Кварки мощны, но низкоуровневы. В реальных приложениях вам нужно больше, чем просто хранение значения. Вам нужно:
- **Вычисляемые данные:** "Полное имя" зависит от "Имя" и "Фамилия".
- **Побочные эффекты (Side Effects):** Сохранить в localStorage при изменении.
- **Валидация:** Убедиться, что возраст > 0.
- **История:** Возможность Undo/Redo.

Nucl оборачивает Quark и создает вокруг него **Систему** с помощью **Плагинов**.

## 2. Система "Kind" (Виды)
Nucl использует паттерн композиции под названием `Kind`. Kind — это строка, которая определяет набор поведений (плагинов).

```typescript
import { Nu } from '@alaq/nucl'

// Простое хранилище
const name = Nu({ value: 'Neo' })

// Хранилище, которое сохраняет в LocalStorage И хранит Историю
const deepConfig = Nu({ 
  kind: 'stored history', // <--- В этом вся магия
  value: { theme: 'dark' }
})

// Прямая подписка через .up() (наследуется от Quark)
deepConfig.up(val => console.log('Конфиг обновлен:', val))
```

Вы не наследуете классы. Вы просто комбинируете строки.
`kind: 'deep validated async'` -> Создает Ядро с глубоким прокси, валидацией и асинхронностью.

## 3. Fusion: Реактивные Вычисления
Nucl представляет **Fusion (Синтез)** — способность сплавлять несколько атомов состояния в новый.

```typescript
import { Nu, fusion } from '@alaq/nucl'

const count = Nu(1)
const double = fusion(use => use(count) * 2)

// 'double' обновляется автоматически, когда меняется 'count'.
// Это лениво и эффективно.
double.up(val => console.log('Удвоенное:', val))
```

## 4. Мост во внешний мир
Nucl спроектирован как "Публичный API" вашего состояния.
- Он предоставляет чистый геттер/сеттер `.value`.
- Он предоставляет методы жизненного цикла, такие как `.decay()`.
- Он автоматически интегрируется с Quantum Bus.

## Итог
- **Quark** = Сырое хранилище.
- **Nucl** = Хранилище + **Поведение** (Плагины) + **Вычисления** (Fusion).
- **Kind** = Текстовый рецепт поведения (`'stored'`, `'deep'` и т.д.).