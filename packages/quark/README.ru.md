# @alaq/quark

**Ð’Ñ‹ÑÐ¾ÐºÐ¾Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ ÐŸÑ€Ð¸Ð¼Ð¸Ñ‚Ð¸Ð².**

[![Read in English](https://img.shields.io/badge/Language-English-blue)](./README.md)

Quark â€” ÑÑ‚Ð¾ Ñ„ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð±Ð»Ð¾Ðº ÑÐºÐ¾ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Alaq. ÐžÐ½ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸ÑŽ Ñ€ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ñ Ð½ÑƒÐ»ÐµÐ²Ð¾Ð¹ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ, Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð´Ð²Ð¸Ð¶ÐºÐ¾Ð² V8 (Chrome/Node.js/Bun).

### ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

```bash
bun add @alaq/quark
# Ð¸Ð»Ð¸
npm install @alaq/quark
```

---

### ðŸ›  ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹

Ð’ ÑÑ‚Ð¾Ð¼ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¼Ñ‹ Ñ€Ð°Ð·Ð´ÐµÐ»ÑÐµÐ¼ **Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð”Ð°Ð½Ð½Ñ‹Ñ…** (Engine) Ð¸ **Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ** (UI) Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Realms (ÐœÐ¸Ñ€Ð¾Ð²). Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ UI Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°Ð·Ð²ÑÐ·Ð°Ð½Ð½Ñ‹Ð¼ Ð¾Ñ‚ ÑÐ»Ð¾Ð¶Ð½Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸ Ð´Ð²Ð¸Ð¶ÐºÐ°.

```typescript
import { Qu, quantumBus, CHANGE } from '@alaq/quark'

// --- Realm 1: "Engine" (Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð²Ñ‹ÑÐ¾ÐºÐ¾Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…) ---
const rpm = Qu({ realm: 'engine', id: 'rpm', value: 0, emitChanges: true })
const temp = Qu({ realm: 'engine', id: 'temp', value: 60, emitChanges: true })
const fuel = Qu({ realm: 'engine', id: 'fuel', value: 100 })

// --- Realm 2: "UI" (Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°) ---
const alertVisible = Qu({ realm: 'ui', id: 'alert', value: false })

// --- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ð°Ñ Ð›Ð¾Ð³Ð¸ÐºÐ° ( "ÐŸÑ€Ð¾Ð²Ð¾Ð´ÐºÐ°" ) ---
const engineBus = quantumBus.getRealm('engine')

engineBus.on(CHANGE, ({ id, value }) => {
  if (id === 'rpm') {
    if (value > 8000 && !alertVisible.value) {
      console.log('[System] RPM Critical! Showing Alert.')
      alertVisible(true) 
    } else if (value <= 8000 && alertVisible.value) {
      alertVisible(false)
    }
  }
})
```

### Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ (ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½)

Ð•ÑÐ»Ð¸ Ð²Ð°Ð¼ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ñ‹ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ðµ ÐœÐ¸Ñ€Ñ‹ Ð¸ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ€ÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `Qv` (ÑÐ¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ `Qu` Ñ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼).

```typescript
import { Qv } from '@alaq/quark'

const count = Qv(10)
count.up(val => console.log('Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ:', val))
count(11) 
```

---

### ðŸ“š Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

*   **[ÐšÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ](./docs/ru/CONCEPT.md)** â€” Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹: Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ ÐºÐ°Ðº Ñ‡Ð°ÑÑ‚Ð¸Ñ†Ñ‹, ÐšÐ²Ð°Ð½Ñ‚Ð¾Ð²Ð°Ñ Ð¨Ð¸Ð½Ð° Ð¸ ÐœÐ¸Ñ€Ñ‹ (Realms).
*   **[Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ](./docs/ru/COMPARISON.md)** â€” Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð±Ð¾Ñ€ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ð¹ Ð¾Ñ‚ Signals Ð¸ RxJS.
*   **[API ÐšÐ²Ð°Ñ€ÐºÐ°](./docs/ru/API.md)** â€” Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº Ð¿Ð¾ Ñ„Ð°Ð±Ñ€Ð¸ÐºÐµ `Qu`, Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° Ð¸ Ð¾Ð¿Ñ†Ð¸ÑÐ¼.
*   **[API Ð¨Ð¸Ð½Ñ‹](./docs/ru/BUS_API.md)** â€” Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº Ð¿Ð¾ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð¸ Ð¼ÐµÐ¶Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ð¾Ð¼Ñƒ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑŽ.

---

### âš¡ ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

Quark ÑÐ¾Ð·Ð´Ð°Ð½ Ð´Ð»Ñ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð½Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ñ… ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ² (Ð¸Ð³Ñ€Ñ‹, Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ñ‚Ð¸ÐºÐµÑ€Ñ‹, Ñ‚ÐµÐ»ÐµÐ¼ÐµÑ‚Ñ€Ð¸Ñ), Ð³Ð´Ðµ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð° ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð¸ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°Ð¼ÑÑ‚Ð¸.

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | @alaq/quark | Signals (Preact) | Vue (Ref) | MobX |
| :--- | :--- | :--- | :--- | :--- |
| **Ð§Ñ‚ÐµÐ½Ð¸Ðµ (Read)** | **~400k ops/ms** | ~250k ops/ms | ~125k ops/ms | ~135k ops/ms |
| **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ (Object)** | **~23k ops/ms** | ~34k ops/ms | ~5k ops/ms | ~0.7k ops/ms |
| **ÐŸÐ°Ð¼ÑÑ‚ÑŒ (1 Ð¼Ð»Ð½ ÑŽÐ½Ð¸Ñ‚Ð¾Ð²)** | **~28 MB** | ~80 MB | ~120 MB | ~240 MB |

*> Ð‘ÐµÐ½Ñ‡Ð¼Ð°Ñ€ÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‹ Ð½Ð° Bun v1.3 / V8. ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡ÐµÑ‚: [BENCHMARK_REPORT.ru.md](../../BENCHMARK_REPORT.ru.md)*