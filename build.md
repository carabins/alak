# –°–±–æ—Ä–∫–∞ –∏ –ü—É–±–ª–∏–∫–∞—Ü–∏—è (Build & Publish)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ `alak`, `@alaq/atom` –∏ `@alaq/nucleus` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ NPM.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Bun** (–∏–ª–∏ Node.js, –Ω–æ —Å–∫—Ä–∏–ø—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ Bun).
*   –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞:
    ```bash
    bun install
    ```

## üöÄ –°–±–æ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

–°–±–æ—Ä–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ `scripts/index.ts`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–π–ø–ª–∞–π–Ω `art` (Artifacts).

### –ü–æ—Ä—è–¥–æ–∫ —Å–±–æ—Ä–∫–∏ (–ö—Ä–∏—Ç–∏—á–Ω–æ!)

–ò–∑-–∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`alak` -> `atom` -> `nucleus`) —Å–æ–±–∏—Ä–∞—Ç—å –ø–∞–∫–µ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ç—Ä–æ–≥–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

1.  **Nucleus** (–ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç)
2.  **Atom** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç Nucleus)
3.  **Alak** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç Atom –∏ Nucleus)

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# 1. –°–±–æ—Ä–∫–∞ Nucleus
bun scripts/index.ts art nucleus

# 2. –°–±–æ—Ä–∫–∞ Atom
bun scripts/index.ts art atom

# 3. –°–±–æ—Ä–∫–∞ Alak
bun scripts/index.ts art alak
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç—ã –∏ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é:

```bash
bun scripts/index.ts
```
1. –í—ã–±–µ—Ä–∏—Ç–µ **"Custom selection"** –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç.
2. –û—Ç–º–µ—Ç—å—Ç–µ –Ω—É–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (Space).
3. –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞—á—É **"Build project"** (`art`).

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏

–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `artifacts/<package_name>`.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:

*   `package.json` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ `exports`, `main`, `module`, `types` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
*   `lib/` ‚Äî ESM –º–æ–¥—É–ª–∏ (`.js`, `.mjs`).
*   `legacy/` ‚Äî CommonJS –º–æ–¥—É–ª–∏ (`.cjs`).
*   `types/` ‚Äî Type definitions (`.d.ts`), –≤–∫–ª—é—á–∞—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã.
*   `*.min.js` ‚Äî UMD/Global —Å–±–æ—Ä–∫–∏ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ (unpkg/jsdelivr).
*   `README.md` –∏ `LICENSE`.

## üì¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è

–î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É npm:

```bash
cd artifacts/alak
npm publish --access public
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –≤ npm (`npm login`) –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.

## üõ† –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

*   **EBUSY: resource busy or locked**: –ï—Å–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø–∞–ø–∫–∏ –≤ Windows, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `artifacts` –Ω–µ –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–µ –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –µ—â–µ —Ä–∞–∑. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ `art` –∑–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ `full-clear` –±—ã–ª–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–∞–ø–∫–∏ –ø–∞–∫–µ—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π.
*   **Missing specifier / export error**: –ï—Å–ª–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `artifacts/<pkg>/package.json` —Å–µ–∫—Ü–∏—é `exports`. –°–±–æ—Ä—â–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ `src` (–∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤) –∏ –ø–æ–¥–ø–∞–ø–æ–∫ —Å `index.ts`.
